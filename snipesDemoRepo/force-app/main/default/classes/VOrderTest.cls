@isTest
public class VOrderTest {
    public static final String TEST_RECORD = '[{"Version":"1","Action":"Fulfillment","OrderNumber":"SNP00270143","OrderID":"411388","TransactionID":"2234624","OrderType":"shipping","ParentLinkedOrderID":null,"ParentLinkedExternalOrderID":null,"ChildLinkedOrderID":null,"ChildLinkedExternalOrderID":null,"TransactionDate":"2021-01-27T18:30:21.9459585Z","OrderDate":"2021-01-26T01:33:23","OrderStatus":"Ordered, Payment Authorized","AffiliateID":"115","AffiliateExternalID":"1999","AffiliateCompany":"KicksUSA-EcommDC","AffiliateType":"2","OrderTotal":166.99,"OrderTotalShipping":0,"OrderTotalTax":0,"CurrencyCode":"USD","CouponCode":"","SalesAssociate":"","SalesAssociateNumber":"","GiftCardAmount":0,"ServicesCreditShipDate":"2021-01-27T13:17:17.863","CustomData1":"CREDIT_CARD","CustomData2":"","CustomData3":"","CustomData4":"","CustomData5":"","Customer":{"CustomerID":282911,"CrmID":"999901009131","ExternalCustomerID":null,"Emails":[{"Email":"Portlandautomart@yahoo.com"}],"BillingAddress":{"AddressID":560775,"ExternalId":"","FirstName":"Alrick","LastName":"Omeally","Company":"","Address1":"240 Norwood Ave","Address2":"","City":"Rochester","State":"NY","Zip":"14606-3722","Country":"US","PhoneNumbers":[{"Phone":"5853698275","Type":"Billing Phone"}],"Items":null}},"CustomAttributes":[{"ID":704,"AttributeName":"StoreNumber","Value":"1999","Option":""},{"ID":705,"AttributeName":"WorkstationNumber","Value":"99","Option":""},{"ID":706,"AttributeName":"SalesAssociateNumber","Value":"9999","Option":""},{"ID":707,"AttributeName":"UseAffiliateExternalIDAsStoreNumber","Value":"No","Option":"Yes (default) or No (if No, then use StoreNumber from above)"}],"OrderShippingAddresses":[{"AddressID":560775,"ExternalId":"","FirstName":"Alrick","LastName":"Omeally","Company":"","Address1":"240 Norwood Ave","Address2":"","City":"Rochester","State":"NY","Zip":"14606-3722","Country":"US","PhoneNumbers":[{"Phone":"5853698275","Type":"Shipping Phone"}],"Items":[{"ItemID":"664280","ItemType":"I","OrderItemType":"shipping","ItemStatusId":"17","ItemStatusDescription":"Shipped","Quantity":1,"ItemPrice":26.99,"ItemCost":0,"ItemTotal":26.99,"ItemShipping":0,"ItemShippingTracking":"1ZY45F73YW93288321","ItemShippingCarrierName":"UPS","ItemShippingCarrierService":"UPS SurePost 1 lb or Greater","ItemCreditAmount":0,"ItemDiscountDetailsTotal":0,"ItemCouponAmount":0,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:17:17.863","SupplierName":"1072","ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":"","ItemCustomData1":"","ItemCustomData2":"","ItemCustomData3":"","ItemCustomData4":"","ItemCustomData5":"","ItemProduct":{"ProductID":340176,"ProductName":"Karl Kani â€“ Signature Block Body Bag (Multi)","SKU":"1000061475","AlternateSKU":"KKMACCQ12006","UPC":"","OptionID":1285282,"OptionSKU":"7584200005","OptionUPC":"400002633297","OptionAlternateSKU":"7584200005","OptionText":"Color=No Color;Size=O/S"},"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":647345,"ItemID":664280,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]},"ItemDiscounts":{"ItemDiscounts":[{"ItemDiscountID":65861,"ItemID":664280,"ItemDiscNo":null,"ItemDiscName":"","ItemDiscDesc":"","ItemDiscIsAtCost":false,"ItemDiscAmount":0,"ItemDiscLevel":"","ItemDiscIsLoyalty":false,"ItemDiscIsEmployee":false,"ItemDiscAuthorizedBy":"","ItemDiscAuthorizedByCaptureMethod":"","ItemDiscPromoNo":null,"ItemDiscPromoName":"","ItemDiscReasonCode":"","ItemDiscReasonDesc":"","ItemDiscGenInfo":"","ItemDiscCouponNo":"","ItemDiscPercent":null}]},"MerchPONumber":"","GiftWrapTaxRate":"","GiftWrapTaxAmount":"","ReturnLocation":null,"ReturnOption":null,"LineType":null},{"ItemID":"664280","ItemType":"S","OrderItemType":null,"ItemStatusId":null,"ItemStatusDescription":null,"Quantity":0,"ItemPrice":0,"ItemCost":0,"ItemTotal":0,"ItemShipping":0,"ItemShippingTracking":null,"ItemShippingCarrierName":null,"ItemShippingCarrierService":null,"ItemCreditAmount":null,"ItemDiscountDetailsTotal":null,"ItemCouponAmount":null,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:17:17.863","SupplierName":null,"ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":null,"ItemCustomData1":null,"ItemCustomData2":null,"ItemCustomData3":null,"ItemCustomData4":null,"ItemCustomData5":null,"ItemProduct":null,"ItemTaxAuthorities":null,"ItemDiscounts":null,"MerchPONumber":null,"GiftWrapTaxRate":null,"GiftWrapTaxAmount":null,"ReturnLocation":null,"ReturnOption":null,"LineType":null}]}],"ShipmentLevelTax":{"TotalTax":0,"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":0,"ItemID":0,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]}},"Payments":[{"ID":899336,"AuthID":899336,"TransactionType":"CAPTURED","Amount":26.99,"AmountCaptured":26.99,"AmountFulFilled":26.99,"AmountRemaining":0,"CreateDate":"2021-01-27T13:17:00","PaymentTender":"MasterCard","TypeCode":"Credit Card","TypeID":"1","AuthOrderNumber":"CAPTURED-411388","CardAuthCode":"6117714359376350004253","RequestToken":"Axj/7wSTS5J9lKeAWy3tABsZFlxZDKW2kQmUesnlB4qiuIEnlB4qiuOkD4J2IAwyaSZejFg5BLBlJpck+ylPALZb2gAAyBMM","SettlementData":null,"CreditType":null,"CreditID":null,"ItemID":null,"GiftCardNumber":null,"GiftCardPIN":null,"ProviderRefNum":null,"CardExp":"12/2023","PaymentDisplay":"************1300"}],"Tenders":null},{"Version":"1","Action":"Fulfillment","OrderNumber":"SNP00270369","OrderID":"411536","TransactionID":"2234625","OrderType":"shipping","ParentLinkedOrderID":null,"ParentLinkedExternalOrderID":null,"ChildLinkedOrderID":null,"ChildLinkedExternalOrderID":null,"TransactionDate":"2021-01-27T18:30:22.1093444Z","OrderDate":"2021-01-26T13:03:58","OrderStatus":"Order Complete","AffiliateID":"115","AffiliateExternalID":"1999","AffiliateCompany":"KicksUSA-EcommDC","AffiliateType":"2","OrderTotal":134.99,"OrderTotalShipping":0,"OrderTotalTax":0,"CurrencyCode":"USD","CouponCode":"","SalesAssociate":"","SalesAssociateNumber":"","GiftCardAmount":0,"ServicesCreditShipDate":"2021-01-27T13:20:56.373","CustomData1":"CREDIT_CARD","CustomData2":"","CustomData3":"","CustomData4":"","CustomData5":"","Customer":{"CustomerID":283012,"CrmID":"999901010137","ExternalCustomerID":null,"Emails":[{"Email":"tweetyiou@yahoo.com"}],"BillingAddress":{"AddressID":560965,"ExternalId":"","FirstName":"Shaakira","LastName":"Purvey","Company":"","Address1":"864 Alter St","Address2":"","City":"Hazleton","State":"PA","Zip":"18201-1873","Country":"US","PhoneNumbers":[{"Phone":"5704019671","Type":"Billing Phone"}],"Items":null}},"CustomAttributes":[{"ID":704,"AttributeName":"StoreNumber","Value":"1999","Option":""},{"ID":705,"AttributeName":"WorkstationNumber","Value":"99","Option":""},{"ID":706,"AttributeName":"SalesAssociateNumber","Value":"9999","Option":""},{"ID":707,"AttributeName":"UseAffiliateExternalIDAsStoreNumber","Value":"No","Option":"Yes (default) or No (if No, then use StoreNumber from above)"}],"OrderShippingAddresses":[{"AddressID":560965,"ExternalId":"","FirstName":"Shaakira","LastName":"Purvey","Company":"","Address1":"864 Alter St","Address2":"","City":"Hazleton","State":"PA","Zip":"18201-1873","Country":"US","PhoneNumbers":[{"Phone":"5704019671","Type":"Shipping Phone"}],"Items":[{"ItemID":"664488","ItemType":"I","OrderItemType":"shipping","ItemStatusId":"17","ItemStatusDescription":"Shipped","Quantity":1,"ItemPrice":134.99,"ItemCost":0,"ItemTotal":134.99,"ItemShipping":0,"ItemShippingTracking":"1ZY45F73YW97273857","ItemShippingCarrierName":"UPS","ItemShippingCarrierService":"UPS SurePost 1 lb or Greater","ItemCreditAmount":0,"ItemDiscountDetailsTotal":5,"ItemCouponAmount":0,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:20:56.373","SupplierName":"1050","ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":"","ItemCustomData1":"","ItemCustomData2":"","ItemCustomData3":"","ItemCustomData4":"","ItemCustomData5":"","ItemProduct":{"ProductID":338775,"ProductName":"Nike - Womens Air Max 97 (White | Barely Volt | Platinum Tint)","SKU":"1000059899","AlternateSKU":"CW7017-100","UPC":"","OptionID":1278830,"OptionSKU":"7425400026","OptionUPC":"194274580037","OptionAlternateSKU":"7425400026","OptionText":"Color=No Color;Size=9"},"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":647553,"ItemID":664488,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]},"ItemDiscounts":{"ItemDiscounts":[{"ItemDiscountID":66048,"ItemID":664488,"ItemDiscNo":null,"ItemDiscName":"Customer Acquisition","ItemDiscDesc":"","ItemDiscIsAtCost":false,"ItemDiscAmount":5,"ItemDiscLevel":"","ItemDiscIsLoyalty":false,"ItemDiscIsEmployee":false,"ItemDiscAuthorizedBy":"","ItemDiscAuthorizedByCaptureMethod":"","ItemDiscPromoNo":null,"ItemDiscPromoName":"$5 Off For Newsletter","ItemDiscReasonCode":"","ItemDiscReasonDesc":"","ItemDiscGenInfo":"","ItemDiscCouponNo":"NEWSLETTER5OFF","ItemDiscPercent":null}]},"MerchPONumber":"","GiftWrapTaxRate":"","GiftWrapTaxAmount":"","ReturnLocation":null,"ReturnOption":null,"LineType":null},{"ItemID":"664488","ItemType":"S","OrderItemType":null,"ItemStatusId":null,"ItemStatusDescription":null,"Quantity":0,"ItemPrice":0,"ItemCost":0,"ItemTotal":0,"ItemShipping":0,"ItemShippingTracking":null,"ItemShippingCarrierName":null,"ItemShippingCarrierService":null,"ItemCreditAmount":null,"ItemDiscountDetailsTotal":null,"ItemCouponAmount":null,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:20:56.373","SupplierName":null,"ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":null,"ItemCustomData1":null,"ItemCustomData2":null,"ItemCustomData3":null,"ItemCustomData4":null,"ItemCustomData5":null,"ItemProduct":null,"ItemTaxAuthorities":null,"ItemDiscounts":null,"MerchPONumber":null,"GiftWrapTaxRate":null,"GiftWrapTaxAmount":null,"ReturnLocation":null,"ReturnOption":null,"LineType":null}]}],"ShipmentLevelTax":{"TotalTax":0,"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":0,"ItemID":0,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]}},"Payments":[{"ID":899354,"AuthID":899354,"TransactionType":"CAPTURED","Amount":134.99,"AmountCaptured":134.99,"AmountFulFilled":134.99,"AmountRemaining":0,"CreateDate":"2021-01-27T13:21:00","PaymentTender":"Visa","TypeCode":"Credit Card","TypeID":"1","AuthOrderNumber":"CAPTURED-411536","CardAuthCode":"6117716540536332704091","RequestToken":"Axj/7wSTS5g9qvDM+K9zABsZFk1HNSW2kQY0WknlB/1/lgCnlB/1/lmkDtLsQChk0ky9GLByCWESTS5g9qvDM+K9zAAABhb6","SettlementData":null,"CreditType":null,"CreditID":null,"ItemID":null,"GiftCardNumber":null,"GiftCardPIN":null,"ProviderRefNum":null,"CardExp":"01/2024","PaymentDisplay":"************0879"}],"Tenders":null},{"Version":"1","Action":"Fulfillment","OrderNumber":"SNP00270749","OrderID":"411675","TransactionID":"2234626","OrderType":"shipping","ParentLinkedOrderID":null,"ParentLinkedExternalOrderID":null,"ChildLinkedOrderID":null,"ChildLinkedExternalOrderID":null,"TransactionDate":"2021-01-27T18:30:22.2801783Z","OrderDate":"2021-01-26T18:47:39","OrderStatus":"Order Complete","AffiliateID":"115","AffiliateExternalID":"1999","AffiliateCompany":"KicksUSA-EcommDC","AffiliateType":"2","OrderTotal":20,"OrderTotalShipping":0,"OrderTotalTax":0,"CurrencyCode":"USD","CouponCode":"","SalesAssociate":"","SalesAssociateNumber":"","GiftCardAmount":0,"ServicesCreditShipDate":"2021-01-27T13:22:17.087","CustomData1":"CREDIT_CARD","CustomData2":"","CustomData3":"","CustomData4":"","CustomData5":"","Customer":{"CustomerID":283117,"CrmID":"999901010674","ExternalCustomerID":null,"Emails":[{"Email":"williemort@gmail.com"}],"BillingAddress":{"AddressID":561126,"ExternalId":"","FirstName":"Willie","LastName":"Mort","Company":"","Address1":"2170 South Coast Highway","Address2":"","City":"Oceanside","State":"CA","Zip":"92054","Country":"US","PhoneNumbers":[{"Phone":"8583422483","Type":"Billing Phone"}],"Items":null}},"CustomAttributes":[{"ID":704,"AttributeName":"StoreNumber","Value":"1999","Option":""},{"ID":705,"AttributeName":"WorkstationNumber","Value":"99","Option":""},{"ID":706,"AttributeName":"SalesAssociateNumber","Value":"9999","Option":""},{"ID":707,"AttributeName":"UseAffiliateExternalIDAsStoreNumber","Value":"No","Option":"Yes (default) or No (if No, then use StoreNumber from above)"}],"OrderShippingAddresses":[{"AddressID":561125,"ExternalId":"","FirstName":"Willie","LastName":"Mort","Company":"","Address1":"2e","Address2":"1930 Channing Way","City":"Berkeley","State":"CA","Zip":"94704-1965","Country":"US","PhoneNumbers":[{"Phone":"8583422483","Type":"Shipping Phone"}],"Items":[{"ItemID":"664656","ItemType":"I","OrderItemType":"shipping","ItemStatusId":"17","ItemStatusDescription":"Shipped","Quantity":1,"ItemPrice":20,"ItemCost":0,"ItemTotal":20,"ItemShipping":0,"ItemShippingTracking":"1ZY45F73YW97666674","ItemShippingCarrierName":"UPS","ItemShippingCarrierService":"UPS SurePost 1 lb or Greater","ItemCreditAmount":0,"ItemDiscountDetailsTotal":0,"ItemCouponAmount":0,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:22:17.087","SupplierName":"1050","ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":"","ItemCustomData1":"","ItemCustomData2":"","ItemCustomData3":"","ItemCustomData4":"","ItemCustomData5":"","ItemProduct":{"ProductID":363899,"ProductName":"Nike - Everyday 6Pk Cushion Crew Socks (Dark Grey)","SKU":"1000084909","AlternateSKU":"SX7666-063","UPC":"","OptionID":1408833,"OptionSKU":"9939100007","OptionUPC":"888408282774","OptionAlternateSKU":"9939100007","OptionText":"Color=No Color;Size=M"},"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":647721,"ItemID":664656,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]},"ItemDiscounts":{"ItemDiscounts":[{"ItemDiscountID":66197,"ItemID":664656,"ItemDiscNo":null,"ItemDiscName":"","ItemDiscDesc":"","ItemDiscIsAtCost":false,"ItemDiscAmount":0,"ItemDiscLevel":"","ItemDiscIsLoyalty":false,"ItemDiscIsEmployee":false,"ItemDiscAuthorizedBy":"","ItemDiscAuthorizedByCaptureMethod":"","ItemDiscPromoNo":null,"ItemDiscPromoName":"","ItemDiscReasonCode":"","ItemDiscReasonDesc":"","ItemDiscGenInfo":"","ItemDiscCouponNo":"","ItemDiscPercent":null}]},"MerchPONumber":"","GiftWrapTaxRate":"","GiftWrapTaxAmount":"","ReturnLocation":null,"ReturnOption":null,"LineType":null},{"ItemID":"664656","ItemType":"S","OrderItemType":null,"ItemStatusId":null,"ItemStatusDescription":null,"Quantity":0,"ItemPrice":0,"ItemCost":0,"ItemTotal":0,"ItemShipping":0,"ItemShippingTracking":null,"ItemShippingCarrierName":null,"ItemShippingCarrierService":null,"ItemCreditAmount":null,"ItemDiscountDetailsTotal":null,"ItemCouponAmount":null,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:22:17.087","SupplierName":null,"ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":null,"ItemCustomData1":null,"ItemCustomData2":null,"ItemCustomData3":null,"ItemCustomData4":null,"ItemCustomData5":null,"ItemProduct":null,"ItemTaxAuthorities":null,"ItemDiscounts":null,"MerchPONumber":null,"GiftWrapTaxRate":null,"GiftWrapTaxAmount":null,"ReturnLocation":null,"ReturnOption":null,"LineType":null}]}],"ShipmentLevelTax":{"TotalTax":0,"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":0,"ItemID":0,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]}},"Payments":[{"ID":899357,"AuthID":899357,"TransactionType":"CAPTURED","Amount":20,"AmountCaptured":20,"AmountFulFilled":20,"AmountRemaining":0,"CreateDate":"2021-01-27T13:22:00","PaymentTender":"Visa","TypeCode":"Credit Card","TypeID":"1","AuthOrderNumber":"CAPTURED-411675","CardAuthCode":"6117717352796359804091","RequestToken":"Axj/7wSTS5saRcChnEs+ABsZEq0ZkKW2jzZzOEnlCCoBHYCnlCCoBHekC/oCAUMmkmXoxYOQSwdyaXNjSLgUM4lnwAAA6hxW","SettlementData":null,"CreditType":null,"CreditID":null,"ItemID":null,"GiftCardNumber":null,"GiftCardPIN":null,"ProviderRefNum":null,"CardExp":"11/2025","PaymentDisplay":"************9202"}],"Tenders":null},{"Version":"1","Action":"Fulfillment","OrderNumber":"SNP00270752","OrderID":"411677","TransactionID":"2234627","OrderType":"shipping","ParentLinkedOrderID":null,"ParentLinkedExternalOrderID":null,"ChildLinkedOrderID":null,"ChildLinkedExternalOrderID":null,"TransactionDate":"2021-01-27T18:30:22.4486809Z","OrderDate":"2021-01-26T19:04:01","OrderStatus":"Order Complete","AffiliateID":"115","AffiliateExternalID":"1999","AffiliateCompany":"KicksUSA-EcommDC","AffiliateType":"2","OrderTotal":109.99,"OrderTotalShipping":0,"OrderTotalTax":0,"CurrencyCode":"USD","CouponCode":"","SalesAssociate":"","SalesAssociateNumber":"","GiftCardAmount":0,"ServicesCreditShipDate":"2021-01-27T13:23:19.603","CustomData1":"CREDIT_CARD","CustomData2":"","CustomData3":"","CustomData4":"","CustomData5":"","Customer":{"CustomerID":283119,"CrmID":"999901010706","ExternalCustomerID":null,"Emails":[{"Email":"katrinareyes35@gmail.com"}],"BillingAddress":{"AddressID":561129,"ExternalId":"","FirstName":"Katrina","LastName":"Griffin","Company":"","Address1":"92 E Montana Street","Address2":"","City":"Philadelphia","State":"PA","Zip":"19119","Country":"US","PhoneNumbers":[{"Phone":"2154357597","Type":"Billing Phone"}],"Items":null}},"CustomAttributes":[{"ID":704,"AttributeName":"StoreNumber","Value":"1999","Option":""},{"ID":705,"AttributeName":"WorkstationNumber","Value":"99","Option":""},{"ID":706,"AttributeName":"SalesAssociateNumber","Value":"9999","Option":""},{"ID":707,"AttributeName":"UseAffiliateExternalIDAsStoreNumber","Value":"No","Option":"Yes (default) or No (if No, then use StoreNumber from above)"}],"OrderShippingAddresses":[{"AddressID":561128,"ExternalId":"","FirstName":"Snipes - Greenleaf at ","LastName":"Store","Company":"","Address1":"2401 W Cheltenham Ave","Address2":"Suite 135","City":"Wyncote","State":"PA","Zip":"19095","Country":"US","PhoneNumbers":[{"Phone":"215-572-0913","Type":"Shipping Phone"}],"Items":[{"ItemID":"664658","ItemType":"I","OrderItemType":"shipping","ItemStatusId":"17","ItemStatusDescription":"Shipped","Quantity":1,"ItemPrice":109.99,"ItemCost":0,"ItemTotal":109.99,"ItemShipping":0,"ItemShippingTracking":"1ZY45F73YW97690889","ItemShippingCarrierName":"UPS","ItemShippingCarrierService":"UPS SurePost 1 lb or Greater","ItemCreditAmount":0,"ItemDiscountDetailsTotal":0,"ItemCouponAmount":0,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:23:19.603","SupplierName":"6303","ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":"","ItemCustomData1":"","ItemCustomData2":"","ItemCustomData3":"","ItemCustomData4":"","ItemCustomData5":"","ItemProduct":{"ProductID":311392,"ProductName":"Timberland - Grade School 6 Inch Premium Boot (Black | Nubuck)","SKU":"1000000109","AlternateSKU":"12907","UPC":"","OptionID":1041298,"OptionSKU":"246100032","OptionUPC":"761020879617","OptionAlternateSKU":"246100032","OptionText":"Color=No Color;Size=4"},"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":647723,"ItemID":664658,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]},"ItemDiscounts":{"ItemDiscounts":[{"ItemDiscountID":66199,"ItemID":664658,"ItemDiscNo":null,"ItemDiscName":"","ItemDiscDesc":"","ItemDiscIsAtCost":false,"ItemDiscAmount":0,"ItemDiscLevel":"","ItemDiscIsLoyalty":false,"ItemDiscIsEmployee":false,"ItemDiscAuthorizedBy":"","ItemDiscAuthorizedByCaptureMethod":"","ItemDiscPromoNo":null,"ItemDiscPromoName":"","ItemDiscReasonCode":"","ItemDiscReasonDesc":"","ItemDiscGenInfo":"","ItemDiscCouponNo":"","ItemDiscPercent":null}]},"MerchPONumber":"","GiftWrapTaxRate":"","GiftWrapTaxAmount":"","ReturnLocation":null,"ReturnOption":null,"LineType":null},{"ItemID":"664658","ItemType":"S","OrderItemType":null,"ItemStatusId":null,"ItemStatusDescription":null,"Quantity":0,"ItemPrice":0,"ItemCost":0,"ItemTotal":0,"ItemShipping":0,"ItemShippingTracking":null,"ItemShippingCarrierName":null,"ItemShippingCarrierService":null,"ItemCreditAmount":null,"ItemDiscountDetailsTotal":null,"ItemCouponAmount":null,"ItemTax":0,"ItemShippingTax":0,"ItemLineNumber":1,"ItemTransactionDate":"2021-01-27T13:23:19.603","SupplierName":null,"ItemGiftWrap":false,"ItemGiftWrapCost":0,"ItemPersonalization":null,"ItemCustomData1":null,"ItemCustomData2":null,"ItemCustomData3":null,"ItemCustomData4":null,"ItemCustomData5":null,"ItemProduct":null,"ItemTaxAuthorities":null,"ItemDiscounts":null,"MerchPONumber":null,"GiftWrapTaxRate":null,"GiftWrapTaxAmount":null,"ReturnLocation":null,"ReturnOption":null,"LineType":null}]}],"ShipmentLevelTax":{"TotalTax":0,"ItemTaxAuthorities":{"ItemTaxAuthorities":[{"ItemTaxAuthorityID":0,"ItemID":0,"TaxAuthName":"Unknown","TaxAuthID":1,"TaxAuthZoneID":199,"TaxAuthAmount":0,"TaxAuthUnroundedAmount":0,"TaxAuthIsVAT":false,"TaxAuthVATCode":"","TaxAuthRate":0,"TaxAuthRuleID":199,"TaxAuthNumber":199}]}},"Payments":[{"ID":899358,"AuthID":899358,"TransactionType":"CAPTURED","Amount":109.99,"AmountCaptured":109.99,"AmountFulFilled":109.99,"AmountRemaining":0,"CreateDate":"2021-01-27T13:23:00","PaymentTender":"MasterCard","TypeCode":"Credit Card","TypeID":"1","AuthOrderNumber":"CAPTURED-411677","CardAuthCode":"6117717978066285304057","RequestToken":"Axj/7wSTS5s9JYQRj6vgABsZGYUG1GW2kU5rCQnlCCu8NIEnlCCu8NOkDqvcQChk0ky9GLByCWD+TS5s9JYQRj6vgAAAkhA9","SettlementData":null,"CreditType":null,"CreditID":null,"ItemID":null,"GiftCardNumber":null,"GiftCardPIN":null,"ProviderRefNum":null,"CardExp":"11/2024","PaymentDisplay":"************4417"}],"Tenders":null}]';

    @isTest
    static void testOrder() {
        RestContext.request = new RestRequest();
        RestContext.request.requestBody = Blob.valueOf(TEST_RECORD);
        RestContext.response = new RestResponse();

        VOrderREST.doPut();

        VOrderREST.OrderErrorHandler handler = new VOrderREST.OrderErrorHandler(new List<VOrderREST.PutResponse>());
        handler.handleError('code', 'message');
    }
}